# =============================
# MIGRATION NOTES
# =============================
# 1) You changed fields (otp -> otp_hash) and added rejection fields. Create and apply migrations:
# python manage.py makemigrations
# python manage.py migrate
# 2) If you had old data in `otp`, write a data migration to null it out or map to otp_hash if needed.
# 3) Ensure you added 'rest_framework_simplejwt.token_blacklist' to INSTALLED_APPS, then migrate.


# =============================
# SWAGGER USAGE NOTES
# =============================
# - Swagger UI at /swagger/
# - Endpoints grouped via @swagger_auto_schema tags: Auth, Admin
# - Try flows:
# POST /register/ { username, email, full_name }
# POST /verify-otp/ { email, otp }
# POST /admin-dashboard/ [PATCH] approve or reject
# POST /set-password/<id>/ { password }
# POST /login/ { username, password } -> only works after approval
# POST /refresh/ { refresh }
# POST /logout/ { refresh }


ğŸš€ Phase 1 â€“ MVP (Solid Foundation)

Goal: Clean, production-ready onboarding flow.

âœ… Custom User model (ditch Djangoâ€™s default User before itâ€™s too late).

âœ… JWT Auth (login, refresh, logout).

âœ… OTP hashed in DB (not plain text).

âœ… Resend OTP endpoint.

âœ… Admin Approval dashboard API (pending, approved, rejected).

âœ… Swagger docs with proper grouping & examples.

ğŸ‘‰ By the end of this, youâ€™ll have a portfolio-ready authentication system.

ğŸ—ï¸ Phase 2 â€“ Advanced Features

Goal: Flex your backend muscles.

ğŸ”’ Role-Based Access Control (User, Admin, Super Admin).

ğŸ”’ Forgot Password / Reset Password via email.

ğŸ”’ Rate limiting on OTP + login attempts (DRF throttling).

ğŸ”’ Email templates (HTML, branding).

ğŸ“Š Audit Logging (who approved whom, when).

âš¡ Async email sending (Celery + Redis).

ğŸ‘‰ This makes your project look real-world secure and not â€œtoy-level.â€

ğŸ’¼ Phase 3 â€“ SaaS-Ready Expansion

Goal: Turn this into an actual SaaS starter kit.

ğŸ‘¥ Organizations/Teams: Users belong to an org, with org admins.

ğŸ’³ Subscription Plans: Free vs Premium, feature flags.

ğŸ’³ Stripe/PayPal billing integration.

ğŸ”‘ API Keys for users/orgs to use the service programmatically.

ğŸ“© Webhooks (events like â€œuser approvedâ€ or â€œorg createdâ€).

ğŸ‘‰ At this point, your project isnâ€™t just a demo â€” itâ€™s startup material.

ğŸŒ Phase 4 â€“ Show-off Extras

Goal: Make recruiters/devs drool.

ğŸ” Multi-Factor Authentication (MFA with Google Authenticator).

ğŸ›¡ï¸ Single Sign-On (SSO with Google/Microsoft).

ğŸ“Š Monitoring & Metrics (Prometheus, Grafana, or Django-silk).

ğŸ•µï¸ Security hardening (CSP headers, advanced logging).

ğŸŒ Multi-tenancy: separate DB schemas per org.

ğŸ‘‰ This phase screams serious backend engineer who knows SaaS architecture.

âš–ï¸ Strategy

Build Phase 1 properly first â€” thatâ€™s already good enough for interviews.

Add Phase 2 when you want to show â€œI can handle production systems.â€

Do Phase 3 only if you want to pitch this as a real SaaS product.

Keep Phase 4 features as cherry on top to stand out.